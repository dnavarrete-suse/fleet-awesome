---
defaultNamespace: haproxytech

labels:
  fleet-bundle: haproxy-ingress

helm:
  chart: oci://ghcr.io/haproxytech/helm-charts/kubernetes-ingress
  version: 1.44.2
  values:
    crdjob:
      podAnnotations:
        helm.sh/hook: "post-install, post-upgrade"
        helm.sh/hook-delete-policy: "hook-succeeded, before-hook-creation"
        ttlSecondsAfterFinished: 200
    controller:
      replicaCount: 1
      kubernetesGateway:
        enabled: true
        gatewayControllerName: haproxy.org/gateway-controller
      service:
        tcpPorts:
          - name: listener1
            protocol: TCP
            port: 8000
            targetPort: 8000

releaseName: k8s-ingress

overrideTargets:
  - clusterGroupSelector:
      matchLabels:
        haproxy-ingress: enabled

###
